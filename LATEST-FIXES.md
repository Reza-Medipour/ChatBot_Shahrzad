# ๐ง ุขุฎุฑู ุชุบุฑุงุช (15 ุจููู 1404)

## โ ูุดฺฉูุงุช ุญู ุดุฏู

### 1. โ ูพุงูโูุง ุฏุฑ ฺุช ููุงุด ุฏุงุฏู ููโุดุฏูุฏ
**ูุดฺฉู:**
- ููุช ูพุงู ุงุฑุณุงู ูโุดุฏุ ูฺ ุฏุฑ ุตูุญู ฺุช ูุดูู ุฏุงุฏู ููโุดุฏ
- ูู ูพุงู ฺฉุงุฑุจุฑ ู ูู ูพุงุณุฎ ฺุชโุจุงุช

**ุนูุช:**
- ูููุนุช ูพุงูโูุง ุจุฑุนฺฉุณ ุจูุฏ (ฺฉุงุฑุจุฑ ุณูุช ฺูพุ ุจุงุช ุณูุช ุฑุงุณุช!)
- ุนุฏู ูุฌูุฏ ุณุณุชู Authentication ูู Backend ูุงุฒ ุฏุงุดุช

**ุฑุงูโุญู:**
โ ุฌุงโฺฏุฐุงุฑ ูพุงูโูุง ุฏุฑุณุช ุดุฏ (ฺฉุงุฑุจุฑ โ ุฑุงุณุชุ ุจุงุช โ ฺูพ)
โ ุตูุญู AuthPage ุงุถุงูู ุดุฏ (Login + Register)
โ Token management ุจุง localStorage

---

### 2. โ ุณุงุฏุจุงุฑ ูุณุช ฺุชโูุง ุฑู ูุดูู ููุฏุงุฏ
**ูุดฺฉู:**
- Sidebar ุจุงุฒ ูโุดุฏ ูู ูุณุช ฺุชโูุง ุฎุงู ุจูุฏ
- ููโุดุฏ ฺุช ูุฏู ุฑู ุจุจูู

**ุนูุช:**
- ุนุฏู Authentication โ Backend ููโุชููุณุช sessions ฺฉุงุฑุจุฑ ุฑู ุจุฑฺฏุฑุฏููู

**ุฑุงูโุญู:**
โ ุณุณุชู Login/Register ุงุถุงูู ุดุฏ
โ ุจุนุฏ ุงุฒ Loginุ sessions ฺฉุงุฑุจุฑ ููุฏ ูุดู
โ ุฏฺฉูู Logout ุงุถุงูู ุดุฏ

---

## ๐ ูุงูโูุง ุชุบุฑ ุงูุชู

### โญ ูุงู ุฌุฏุฏ:
**`frontend/src/components/AuthPage.tsx`**
```typescript
- ุตูุญู Login/Register ุฒุจุง
- ุฏู ุชุจ: ูุฑูุฏ ู ุซุจุชโูุงู
- Validation ู Error handling
- Token management
```

### ๐ ุชุบุฑุงุช ุฏุฑ ูุงูโูุง ููุฌูุฏ:

#### 1. `frontend/src/components/ChatInterface.tsx`
```diff
ูุจู:
- justify-start ุจุฑุง user (ุงุดุชุจุงู!)
- justify-end ุจุฑุง bot (ุงุดุชุจุงู!)
- ุขฺฉูู user ุณูุช ฺูพ
- Loading indicator ุณูุช ุฑุงุณุช

ุจุนุฏ:
+ justify-end ุจุฑุง user (ุฏุฑุณุช!)
+ justify-start ุจุฑุง bot (ุฏุฑุณุช!)
+ ุขฺฉูู user ุณูุช ุฑุงุณุช
+ Loading indicator ุณูุช ฺูพ
```

#### 2. `frontend/src/App.tsx`
```diff
+ import AuthPage
+ isAuthenticated state
+ useEffect ุจุฑุง ฺฺฉ ฺฉุฑุฏู token
+ handleAuthSuccess() - ุจุนุฏ ุงุฒ ูุงฺฏู ูููู
+ handleLogout() - ุฎุฑูุฌ ุงุฒ ุญุณุงุจ
+ ููุงุด AuthPage ุงฺฏุฑ ูุงฺฏู ูุณุช
```

#### 3. `frontend/src/components/Sidebar.tsx`
```diff
+ import LogOut icon
+ onLogout prop ุฏุฑ interface
+ ุฏฺฉูู ุฎุฑูุฌ ุฏุฑ ุงูุชูุง sidebar
+ onClick ุจุฑุง ุฎุฑูุฌ
```

---

## ๐ฏ ูุญูู ุงุณุชูุงุฏู

### ูุฑุญูู 1: ุซุจุชโูุงู (ุงููู ุจุงุฑ)
```
1. ุจุฑู ุจู: http://103.75.196.71:8090
2. ุชุจ "ุซุจุชโูุงู" ุฑู ุงูุชุฎุงุจ ฺฉู
3. ูุงุฑุฏ ฺฉู:
   - ุดูุงุฑู ุชููู: 09123456789
   - ูุงู ฺฉุงุฑุจุฑ: john
   - ุฑูุฒ ุนุจูุฑ: password123
4. ฺฉูฺฉ "ุซุจุชโูุงู"
5. โ ุฎูุฏฺฉุงุฑ ูุงฺฏู ูุด
```

### ูุฑุญูู 2: ูุฑูุฏ (ุจุงุฑูุง ุจุนุฏ)
```
1. ุจุฑู ุจู: http://103.75.196.71:8090
2. ุชุจ "ูุฑูุฏ" (ูพุดโูุฑุถ)
3. ูุงุฑุฏ ฺฉู:
   - ูุงู ฺฉุงุฑุจุฑ: john
   - ุฑูุฒ ุนุจูุฑ: password123
4. ฺฉูฺฉ "ูุฑูุฏ"
5. โ ูุงุฑุฏ ูุด
```

### ูุฑุญูู 3: ุดุฑูุน ฺุช
```
1. ฺฉูฺฉ "ุดุฑูุน ฺฏูุชฺฏู"
2. ูพุงู ุฎูุฏ ุฑุง ุจููุณ
3. ฺฉูฺฉ "ุงุฑุณุงู" ุง Shift+Enter
4. โ ูพุงู ุชู ุณูุช ุฑุงุณุช (ุขุจ) ููุงุด ุฏุงุฏู ูุดู
5. โ ูพุงุณุฎ ุจุงุช ุณูุช ฺูพ (ุณูุฏ) ููุงุด ุฏุงุฏู ูุดู
```

### ูุฑุญูู 4: ุฏุฏู ุชุงุฑุฎฺู
```
1. ฺฉูฺฉ ุฑู ููู (โฐ ฺฏูุดู ุจุงูุง)
2. โ ูุณุช ุชูุงู ฺุชโูุง ูุจู ูุดูู ุฏุงุฏู ูุดู
3. ูุชูู ุฑู ูุฑ ฺุช ฺฉูฺฉ ฺฉู
4. ูุชูู ฺุช ุฌุฏุฏ ุจุณุงุฒ (+)
5. ูุชูู ฺุช ุฑู ุญุฐู ฺฉู (๐๏ธ)
```

### ูุฑุญูู 5: ุฎุฑูุฌ
```
1. ููู ุฑู ุจุงุฒ ฺฉู
2. ุงุณฺฉุฑูู ฺฉู ูพุงู
3. ฺฉูฺฉ "ุฎุฑูุฌ"
4. โ ุจุฑูฺฏุฑุฏ ุจู ุตูุญู Login
```

---

## ๐ ุฌุฒุฆุงุช ุชฺฉูฺฉ

### Authentication Flow:
```
1. User ูุงุฑุฏ ูฺฉูู: username, password
2. Frontend โ POST /api/auth/login
3. Backend:
   - ุจุฑุฑุณ username ุฏุฑ database
   - ุจุฑุฑุณ password hash
   - ุงุฌุงุฏ JWT token
4. Frontend:
   - ุฏุฑุงูุช token
   - ุฐุฎุฑู ุฏุฑ localStorage
   - setToken ุฏุฑ apiClient
5. ุฏุฑุฎูุงุณุชโูุง ุจุนุฏ:
   - Authorization: Bearer {token}
```

### Chat Message Flow:
```
1. User ูพุงู ุงุฑุณุงู ูโฺฉูู
2. Frontend:
   - ุงุถุงูู ฺฉุฑุฏู ูููุช ูพุงู ุจู UI
   - POST /api/chat ุจุง token
3. Backend:
   - ุจุฑุฑุณ token
   - ุฐุฎุฑู ูพุงู ฺฉุงุฑุจุฑ
   - ูุฑุงุฎูุงู LLM API
   - ุฐุฎุฑู ูพุงุณุฎ ุจุงุช
   - ุจุฑฺฏุฑุฏุงูุฏู response
4. Frontend:
   - ุงุถุงูู ฺฉุฑุฏู ูพุงุณุฎ ุจุงุช ุจู UI
   - reload messages ุงุฒ server
```

### Chat Message Position:
```tsx
// ูุจู (ุงุดุชุจุงู):
{message.is_user ? 'justify-start' : 'justify-end'}
// ุนู: user ฺูพุ bot ุฑุงุณุช โ

// ุจุนุฏ (ุฏุฑุณุช):
{message.is_user ? 'justify-end' : 'justify-start'}
// ุนู: user ุฑุงุณุชุ bot ฺูพ โ
```

---

## ๐ Debug ู ุชุณุช

### ฺฺฉ ฺฉุฑุฏู Authentication:
```bash
# ูุงฺฏู ุชุณุช
curl -X POST http://103.75.196.71:8090/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"test123"}'

# ุฎุฑูุฌ:
{"access_token":"eyJ...","token_type":"bearer"}
```

### ฺฺฉ ฺฉุฑุฏู Conversations:
```bash
# ุฏุฑุงูุช ูุณุช ฺุชโูุง (ูุงุฒ ุจู token)
curl http://103.75.196.71:8090/api/conversations \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### ฺฺฉ ฺฉุฑุฏู Messages:
```bash
# ุฏุฑุงูุช ูพุงูโูุง ฺฉ ฺุช
curl http://103.75.196.71:8090/api/conversations/SESSION_ID/messages \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## ๐ ููุงุณู ูุจู ู ุจุนุฏ

| ุฌูุจู | ูุจู โ | ุจุนุฏ โ |
|------|---------|---------|
| Authentication | ูุฏุงุฑุฏ | Login/Register ฺฉุงูู |
| Token Management | ูุฏุงุฑุฏ | localStorage + API client |
| ููุงุด ูพุงูโูุง | ุจุฑุนฺฉุณ | ุฏุฑุณุช (user ุฑุงุณุชุ bot ฺูพ) |
| ุชุงุฑุฎฺู ฺุชโูุง | ฺฉุงุฑ ููโฺฉุฑุฏ | ฺฉุงูู ู ูุงุจู ูุดุงูุฏู |
| Logout | ูุฏุงุฑุฏ | ุฏฺฉูู ุฏุฑ Sidebar |
| User Experience | ูุงูุต | ฺฉุงูู ู ุฑูุงู |

---

## โ ฺฺฉ ูุณุช ุชุณุช

### ุจุงุฏ ฺฉุงุฑ ฺฉูู:
- [ ] ุจุงุฒ ฺฉุฑุฏู ุณุงุช โ ุตูุญู Login ูุดูู ุจุฏู
- [ ] ุซุจุชโูุงู ุจุง ุดูุงุฑู ุชูููุ usernameุ password
- [ ] ูุฑูุฏ ุจุง username ู password
- [ ] ฺฉูฺฉ "ุดุฑูุน ฺฏูุชฺฏู" โ ุจุงุฒ ุดุฏู ฺุช
- [ ] ุงุฑุณุงู ูพุงู โ ููุงุด ุฏุฑ ุณูุช ุฑุงุณุช (ุขุจ)
- [ ] ุฏุฑุงูุช ูพุงุณุฎ โ ููุงุด ุฏุฑ ุณูุช ฺูพ (ุณูุฏ)
- [ ] ุจุงุฒ ฺฉุฑุฏู ููู โ ุฏุฏู ูุณุช ฺุชโูุง
- [ ] ฺฉูฺฉ ุฑู ฺุช ูุฏู โ ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง
- [ ] ุณุงุฎุช ฺุช ุฌุฏุฏ โ ูุณุช ุจูโุฑูุฒ ุจุดู
- [ ] ุญุฐู ฺุช โ ุงุฒ ูุณุช ุญุฐู ุจุดู
- [ ] ฺฉูฺฉ "ุฎุฑูุฌ" โ ุจุฑฺฏุดุช ุจู Login
- [ ] ุจุนุฏ ุงุฒ logout ู login ูุฌุฏุฏ โ ุฏุงุฏูโูุง ุจุงู ุจุงุดู

---

## ๐ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ

ุงฺฏุฑ ุชุบุฑุงุช ุฑู ุฏุฏ ู ูุฎูุง ุจุงูุง ุจุงุฑ:

```bash
# 1. ุชููู ู ุญุฐู ฺฉุงูุชูุฑูุง ูุจู
cd ~/shahrzad-chatbot
docker-compose down

# 2. Build ู Run ูุฌุฏุฏ
docker-compose up -d --build

# 3. ฺฺฉ ฺฉุฑุฏู ูุถุนุช
docker-compose ps

# 4. ุชุณุช
bash test-services.sh

# 5. ุจุงุฒ ฺฉุฑุฏู ุฏุฑ ูุฑูุฑฺฏุฑ
# http://103.75.196.71:8090
```

---

## ๐ ูฺฉุงุช ููู

1. **Token ุฏุฑ localStorage:**
   - ุจุนุฏ ุงุฒ Loginุ token ุฐุฎุฑู ูุดู
   - ุจุนุฏ ุงุฒ Logoutุ token ูพุงฺฉ ูุดู
   - ุงฺฏุฑ token ููุฌูุฏ ุจุงุดูุ ุฎูุฏฺฉุงุฑ ูุงฺฏู ูุด

2. **Validation:**
   - ููู ููุฏูุง required ูุณุชูุฏ
   - Password ุจุงุฏ ุญุฏุงูู 6 ฺฉุงุฑุงฺฉุชุฑ ุจุงุดู (ุฏุฑ backend)

3. **Error Handling:**
   - ุงฺฏุฑ username ุง password ุงุดุชุจุงู โ ูพุงู ุฎุทุง
   - ุงฺฏุฑ network error โ ูพุงู ุฎุทุง
   - ููู ุฎุทุงูุง ุจู ูุงุฑุณ ููุงุด ุฏุงุฏู ูุดู

4. **UI/UX:**
   - Loading states ุฏุฑ ููู ุฌุง
   - Disabled buttons ููุช ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด
   - Smooth animations
   - RTL support

---

## ๐ ูุชุฌู

### ูุจู ุงู ุชุบุฑุงุช:
โ ฺุช ฺฉุงุฑ ููโฺฉุฑุฏ
โ ูพุงูโูุง ููุงุด ุฏุงุฏู ููโุดุฏูุฏ
โ ููโุดุฏ ูุงฺฏู ฺฉุฑุฏ
โ ุชุงุฑุฎฺู ฺุชโูุง ุฎุงู ุจูุฏ

### ุจุนุฏ ุงุฒ ุงู ุชุบุฑุงุช:
โ ุณุณุชู Authentication ฺฉุงูู
โ ูพุงูโูุง ุฏุฑุณุช ููุงุด ุฏุงุฏู ูุดู
โ ุชุงุฑุฎฺู ฺุชโูุง ฺฉุงุฑ ูโฺฉูู
โ UI/UX ุนุงู
โ ููู ฺุฒ ุฑูุงู ู ุณุฑุน

**ููู ฺุฒ ุขูุงุฏู ุงุณุช! ุจุฑู ุชุณุช ฺฉู! ๐**
