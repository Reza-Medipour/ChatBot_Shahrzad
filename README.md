# ุณุณุชู ฺุช ูพุดุชุจุงู ุดูุฑุฒุงุฏ

ูุจ ุงูพูฺฉุดู ฺุช ูพุดุชุจุงู ุจุง ุทุฑุงุญ **Mobile-Only** ฺฉู ุจู API ฺุช ุฎุงุฑุฌ ูุชุตู ุงุณุช.

## ูฺฺฏโูุง

- ๐ฑ **ุทุฑุงุญ ููุท ุจุฑุง ููุจุงู** - ุญุฏุงฺฉุซุฑ ุนุฑุถ 448px
- ๐จ **ุจฺฉโฺฏุฑุงูุฏ ุขุจ ฺฉูโุฑูฺฏ** - ุงุทุฑุงู ุตูุญู ููุจุงู
- ๐ฌ ฺุช ุขููุงู ุจุง ุฑุจุงุช ููุดููุฏ
- ๐ ุฑูฺฏโุจูุฏ ุฒุจุง ุจุง ุชู ุขุจ ุชุฑู
- ๐ ูุฏุฑุช ุฌูุณุงุช ฺุช ูุชุนุฏุฏ
- ๐ ุฐุฎุฑู ุฎูุฏฺฉุงุฑ ุชุงุฑุฎฺู ฺฏูุชฺฏููุง
- ๐ ุงุชุตุงู ุจู API ุฎุงุฑุฌ (ุจุง ุญู ูุดฺฉู CORS)
- ๐ฏ ุณุงุฏุจุงุฑ drawer ุจุฑุง ุฏุณุชุฑุณ ุจู ุชุงุฑุฎฺู

## ูพุดโูุงุฒูุง

- Node.js 18 ุง ุจุงูุงุชุฑ
- npm ุง yarn
- ุญุณุงุจ Supabase

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
npm install
```

### 2. ุชูุธูุงุช ูุญุท

ูุงู `.env` ุฑุง ุจุง ุงุทูุงุนุงุช ุฎูุฏ ูพุฑ ฺฉูุฏ:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
VITE_CHAT_API_URL=http://103.75.196.71:8020/chat
```

### 3. ุงุฌุฑุง ูุญู

```bash
npm run dev
```

ุงูพูฺฉุดู ุฏุฑ `http://localhost:5173` ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ.

### 4. ุณุงุฎุช ุจุฑุง Production

```bash
npm run build
```

## ุงุณุชูุฑุงุฑ ุจุง Docker

### ูพุดโูุงุฒูุง

ูุทูุฆู ุดูุฏ ฺฉู API Backend ุดูุง ุฑู ูพูุฑุช 8020 ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช:
```bash
# ุจุฑุฑุณ ูุถุนุช API
curl http://172.17.0.1:8020/chat
```

### ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑ

```bash
# ุชููู ฺฉุงูุชูุฑ ูุจู (ุงฺฏุฑ ูุฌูุฏ ุฏุงุฑุฏ)
docker-compose down

# ุณุงุฎุช ูุฌุฏุฏ ุงูุฌ
docker-compose build --no-cache

# ุงุฌุฑุง ฺฉุงูุชูุฑ
docker-compose up -d

# ูุดุงูุฏู ูุงฺฏโูุง
docker-compose logs -f
```

### ุฏุณุชุฑุณ ุจู ุงูพูฺฉุดู

ูพุณ ุงุฒ ุงุณุชูุฑุงุฑุ ุงูพูฺฉุดู ุฏุฑ ุขุฏุฑุณ ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

```
http://103.75.196.71:8082
```

### ุนุจโุงุจ

ุงฺฏุฑ ูุดฺฉู CORS ุฏุงุฑุฏ:

1. ุจุฑุฑุณ ฺฉูุฏ Nginx ุจู ุฏุฑุณุช ุฑุงูโุงูุฏุงุฒ ุดุฏู ุงุณุช:
```bash
docker exec -it <container-name> nginx -t
```

2. ุจุฑุฑุณ ูุงฺฏโูุง Nginx:
```bash
docker logs <container-name>
```

3. ุชุณุช proxy:
```bash
curl http://103.75.196.71:8082/chat -X POST \
  -H "Content-Type: application/json" \
  -d '{"session_id":"test","message":"ุณูุงู"}'
```

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
src/
โโโ components/
โ   โโโ WelcomePage.tsx      # ุตูุญู ุฎูุดุงูุฏฺฏู
โ   โโโ ChatInterface.tsx    # ูุญุท ฺุช
โ   โโโ Sidebar.tsx          # ุณุงุฏุจุงุฑ ูุฏุฑุช ุฌูุณุงุช
โโโ lib/
โ   โโโ supabase.ts          # ฺฉูุงูุช Supabase
โโโ App.tsx                  # ฺฉุงููพูููุช ุงุตู
โโโ main.tsx                 # ููุทู ูุฑูุฏ
```

## API ฺุช

ุงูพูฺฉุดู ุจู API ุฎุงุฑุฌ ูุชุตู ุงุณุช:

**Endpoint Backend:** `http://172.17.0.1:8020/chat`

**Method:** `POST`

### ุญู ูุดฺฉู CORS

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุทุง CORSุ ุงุฒ Nginx Proxy ุงุณุชูุงุฏู ุดุฏู ุงุณุช:

- **Frontend Request:** `/chat` (relative path)
- **Nginx Proxy:** `http://172.17.0.1:8020/chat`

ุงู ุฑูุด ุจุงุนุซ ูโุดูุฏ ุฏุฑุฎูุงุณุชโูุง ุงุฒ ููุงู domain ุงุฑุณุงู ุดููุฏ ู ูุดฺฉู CORS ุญู ุดูุฏ.

**Request Body:**
```json
{
  "session_id": "string",
  "message": "string"
}
```

**Response:**
```json
{
  "response": "string"
}
```

## ุฏุชุงุจุณ

### ุฌุฏุงูู

- `chat_sessions`: ุฐุฎุฑู ุฌูุณุงุช ฺุช
- `messages`: ุฐุฎุฑู ูพุงูโูุง ฺฉุงุฑุจุฑ ู ุฑุจุงุช

### RLS (Row Level Security)

- โ **ุงุญุฑุงุฒ ููุช ุจุง ุดูุงุฑู ุชููู** - ูุฑ ฺฉุงุฑุจุฑ ุญุณุงุจ ุฌุฏุงฺฏุงูู ุฏุงุฑุฏ
- โ **ุฌุฏุงุณุงุฒ ฺฉุงุฑุจุฑุงู** - ูุฑ ฺฉุงุฑุจุฑ ููุท ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ูโุจูุฏ
- โ **ุงููุช ุฏุฑ ุณุทุญ ุฏุชุงุจุณ** - RLS policies ุจุฑ ุงุณุงุณ user_id
- ๐ ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑุ ูุงู [AUTH-SYSTEM.md](./AUTH-SYSTEM.md) ุฑุง ุจุจูุฏ

## ุทุฑุงุญ Mobile-First

ุงู ุงูพูฺฉุดู **ููุท ุจุฑุง ููุงุด ุฏุฑ ุงุจุนุงุฏ ููุจุงู** ุทุฑุงุญ ุดุฏู ุงุณุช:

- **ุนุฑุถ ูุงฺฉุฒูู:** 448px (ุฏุฑ ูุณุท ุตูุญู)
- **ุจฺฉโฺฏุฑุงูุฏ:** ฺฏุฑุงุฏุงูุช ุขุจ ฺฉูโุฑูฺฏ ุฏุฑ ุงุทุฑุงู
- **ูุญุชูุง:** ุฏุฑ ฺฉ frame ููุจุงู ุจุง shadow

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑุ ูุงู [MOBILE-DESIGN.md](./MOBILE-DESIGN.md) ุฑุง ูุทุงูุนู ฺฉูุฏ.

## ุงุณุชูุงุฏู ุงุฒ ุงูพูฺฉุดู

### ุฌุฑุงู ูุฑูุฏ ู ุงุณุชูุงุฏู

1. **ุตูุญู ุฎูุดุงูุฏฺฏู**
   - ุนฺฉุณ ุงูู ุชูุฑุงู
   - ุฏฺฉูู "ุดุฑูุน ฺฏูุชฺฏู" ุจุฑุง ูุฑูุฏ

2. **ุตูุญู ูุงฺฏู**
   - ูุงุฑุฏ ฺฉุฑุฏู ุดูุงุฑู ุชููู (11 ุฑูู)
   - ูุซุงู: 09123456789
   - ุฐุฎุฑู ุฏุฑ ุฏุชุงุจุณ

3. **ุตูุญู ฺุช**
   - ุจุนุฏ ุงุฒ ูุงฺฏูุ ูุณุชูู ุจู ฺุช ููุชูู ูโุดูุฏ
   - ูพุงู ฺฉุงุฑุจุฑ ุฏุฑ ุฑุงุณุช (ุขุจ)
   - ูพุงุณุฎ ุฑุจุงุช ุฏุฑ ฺูพ (ุณูุฏ)

4. **ููู ุณุงุฏุจุงุฑ**
   - ฺฉูฺฉ ุฑู ุขฺฉูู ููู (โฐ)
   - ููุงุด ุดูุงุฑู ุชููู
   - ูุณุช ุชุงุฑุฎฺู ฺุชโูุง
   - ุฏฺฉูู "ุฎุฑูุฌ ุงุฒ ุญุณุงุจ"

5. **ุฎุฑูุฌ (Logout)**
   - ฺฉูฺฉ ุฑู "ุฎุฑูุฌ ุงุฒ ุญุณุงุจ"
   - ุจุงุฒฺฏุดุช ุจู ุตูุญู ุฎูุดุงูุฏฺฏู
   - ุจุฑุง ูุฑูุฏ ูุฌุฏุฏ ุจุงุฏ ุฏูุจุงุฑู ุดูุงุฑู ูุงุฑุฏ ุดูุฏ

### ูฺฺฏโูุง ุงููุช

- โ ูุฑ ฺฉุงุฑุจุฑ ููุท ฺุชโูุง ุฎูุฏ ุฑุง ูโุจูุฏ
- โ ุฌุฏุงุณุงุฒ ฺฉุงูู ุฏุงุฏูโูุง ุจุฑ ุงุณุงุณ ุดูุงุฑู ุชููู
- โ Auto-login ุจุนุฏ ุงุฒ refresh (ุจุง localStorage)
- โ ุงููุช ุฏุฑ ุณุทุญ ุฏุชุงุจุณ ุจุง RLS

## ุฏุณุชูุฑุงุช ููุฏ

```bash
# ุงุฌุฑุง ูุญุท ุชูุณุนู
npm run dev

# ุณุงุฎุช ุจุฑุง production
npm run build

# ูพุดโููุงุด build
npm run preview

# ุจุฑุฑุณ ฺฉุฏ
npm run lint

# ุจุฑุฑุณ ุชุงูพโูุง
npm run typecheck
```

## ุชฺฉููููฺโูุง

- React 18
- TypeScript
- Vite
- Tailwind CSS
- Supabase
- Lucide Icons
- Docker & Nginx

## ุชูุณุนูโุฏููุฏู

ุงู ูพุฑูฺู ุจุฑุง ุณุณุชู ฺุช ูพุดุชุจุงู ุดูุฑุฒุงุฏ ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช.

## ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ ุฎุตูุต ุงุณุช.
